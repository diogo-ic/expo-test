{"version":3,"sources":["commands/client/selectPushKey.js"],"names":["selectPushKey","context","options","appleContext","appleCtx","pushKeys","_","get","chooseUnrevokedPushKey","choices","length","disableAutoSelectExisting","autoselectedPushkey","name","value","disableCreate","push","promptValue","type","message","pageSize","Infinity","generatePushKey","pushKey","credentials","isValid","validateUploadedPushKey","spinner","start","formattedPushKeyArray","Credentials","Ios","formatPushKeys","provideFullPushKey","filteredFormattedPushKeyArray","filterRevokedPushKeys","isValidPushKey","successMsg","succeed","failureMsg","fail","pushKeysOnExpoServer","getExistingPushKeys","user","username","team","id","validPushKeysOnExpoServer","numValidKeys","numRevokedKeys","statusToDisplay","warn","pushKeyManager","appleApi","PushKeyManager","pushKeysOnAppleServer","list","validKeyIdsOnAppleServer","map","filter","apnsKeyId","includes","manager","create","e","code","ErrorCodes","APPLE_PUSH_KEYS_TOO_MANY_GENERATED_ERROR","keys","log","answer","key","revoke","Error"],"mappings":"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","file":"../../../commands/client/selectPushKey.js","sourceRoot":"/expo-cli@3.11.5/src"}